
{% include 'base.html' %}
<div class="sidebar" data-color="white" data-active-color="danger">
    <div class="logo text-center">
      <a href="#" class="simple-text logo-normal">
        <div class="logo-image-big">
          <img src="/static/images/logo.png">
        </div>
      </a>
    </div>
    <div class="sidebar-wrapper">
      <ul class="nav">
        <li>
          <a href="{% url 'home' %}">
            <i class="nc-icon nc-bank"></i>
            <p>Dashboard</p>
          </a>
        </li>
        <li>
            <a href="javascript:void(0)" data-toggle="collapse" data-target="#masterlistCollapse">
                <i>
                    <svg xmlns="http://www.w3.org/2000/svg" style='height:30px;' fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z" />
                    </svg>
                </i>Master List<i class="fa fa-fw fa-caret-right"></i>
            </a>       
            <ul id="masterlistCollapse" class="collapse">
                <li>
                    <a href="{% url 'allStudent-list'%}">
                        <i class="fa fa-list-alt"></i><p>Student Year Info</p>
                      </a>
                </li>
                <li>
                    <a href="{% url 'teacher-list'%}">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" style='height:30px;' viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path fill-rule="evenodd" d="M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z" clip-rule="evenodd" />
                            <path d="M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z" />
                          </svg>
                    </i>
                    </i>Teacher List</a>
                </li>
                <li>
                    <a href="{% url 'parent-list'%}">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" style='height:30px;' viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path fill-rule="evenodd" d="M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z" clip-rule="evenodd" />
                            <path d="M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z" />
                          </svg>
                    </i>
                    </i>Parent List</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="javascript:void(0)" data-toggle="collapse" data-target="#reportsCollapse">
                <i><svg xmlns="http://www.w3.org/2000/svg" style="height:30px;" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
                </svg>
                </i>Reports
                <i class="fa fa-fw fa-caret-right"></i>
            </a>
            <ul id="reportsCollapse" class="collapse">
                <li>
                    <a href="{% url 'student-list' %}" ><i class="fa fa-graduation-cap"></i> Students List</a>
                </li>
               
                <li>
                    <a href="#" data-toggle="modal" data-target="#academicRecordModal"><i class="fa fa-book"></i> Academic Record</a>
                </li>
            </ul>
        </li>
        <li>
            <a href="javascript:void(0)" data-toggle="collapse" data-target="#maintenanceCollapse">
                <i><svg xmlns="http://www.w3.org/2000/svg" fill="none" style='height:30px;' viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg></i>Maintenance
                <i class="fa fa-fw fa-caret-right"></i>
            </a>
            <ul id="maintenanceCollapse" class="collapse">
                <li>
                    <a href="{% url 'schoolyear-list' %}"><i class="fa fa-fw fa-calendar"></i>School Year</a>
                </li>
                <li>
                    <a href="{% url 'section-list'%}"><i class="fa fa-fw fa-columns"></i>Section</a>
                </li>
                <li class="">
                    <a href="{% url 'subject-list'%}"><i class="fa fa-fw fa-book"></i> Subjects List</a>
                </li>
                <li>
                    <a href="{% url 'grade-level'%}">
                        <i><svg xmlns="http://www.w3.org/2000/svg" style='height:30px;'viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path fill-rule="evenodd" d="M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z" clip-rule="evenodd" />
                            <path d="M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z" />
                          </svg>
                        </i>
                    </i> Grade Level List</a>
                </li>
                {% if request.user.is_superuser %}
                <li>
                    <a href="{% url 'user-list'%}">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        </svg>
                    </i>User</a>
                </li>
                {% endif %}
            </ul>
        </li>
      </ul>
    </div>
  </div>
  {% include 'student/student_academic_record_modal.html'%}
  <script>

    $('.side-nav li a').each(function(){
        if((location.href).includes($(this).attr('href')) == true){
            $(this).closest('li').addClass("active")
            console.log($(this).closest('li').parent('ul').attr('id'))
            if($(this).closest('li').parent('ul').hasClass('collapse') == true){
                $('[data-target="#'+$(this).closest('li').parent('ul').attr('id')+'"]').click()
            }
        }
    })
    $(document).ready(function() {
    var collapsedState = localStorage.getItem('sidebarCollapsed');
    if (collapsedState === 'true') {
        $('.sidebar-collapse').addClass('collapsed');
        $('.sidebar').addClass('collapsed');
    }

    $('.sidebar-collapse').click(function() {
        $('.sidebar-collapse').toggleClass('collapsed');
        $('.sidebar').toggleClass('collapsed');

        var isCollapsed = $('.sidebar-collapse').hasClass('collapsed');
        localStorage.setItem('sidebarCollapsed', isCollapsed);
    });

    $('.sidebar-wrapper li').each(function() {
        var href = $(this).find('a').attr('href');
        if (window.location.href.indexOf(href) > -1) {
            $(this).addClass('active');
            $(this).parents('ul.collapse').addClass('show');
        }
    });
    $(document).ready(function () {
        $('.collapse').each(function () {
            if ($(this).hasClass('active')) {
                $(this).prev().find('.fa-caret-right').removeClass('fa-caret-right').addClass('fa-caret-down');
            } else {
                $(this).prev().find('.fa-caret-down').removeClass('fa-caret-down').addClass('fa-caret-right');
            }
        });

        // Toggle sidebar caret icons on collapse/expand events
        $('.collapse').on('show.bs.collapse', function () {
            $(this).prev().find('.fa-caret-right').removeClass('fa-caret-right').addClass('fa-caret-down');
        }).on('hide.bs.collapse', function () {
            $(this).prev().find('.fa-caret-down').removeClass('fa-caret-down').addClass('fa-caret-right');
        });
    });

});
</script>